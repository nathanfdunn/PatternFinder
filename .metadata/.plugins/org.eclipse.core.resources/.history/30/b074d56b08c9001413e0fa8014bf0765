package gui;

import java.awt.Dimension;

import javax.swing.JPanel;









import org.jfree.chart.ChartFactory;
import org.jfree.chart.ChartPanel;
import org.jfree.chart.JFreeChart;
//import org.jfree.chart.*;
//import org.jfree.chart.*;
import org.jfree.chart.plot.PlotOrientation;
import org.jfree.chart.plot.XYPlot;
import org.jfree.data.xy.DefaultXYDataset;

import behaviorClassification.Chunk;


public class ChunkDisplayer extends JPanel{
	
	private static final Dimension prefSize = new Dimension(600, 600);
	private JFreeChart chart;
	private ChartPanel chartPanel;
	
	
	public ChunkDisplayer(){
		this.setPreferredSize(prefSize);
	}
	

	
	
	public void displayChunk(Chunk chunk){
		displayChunk(chunk.getTimes(), chunk.getVals());
	}
	
	public void displayChunk(double[] time, double[] vals){

		DefaultXYDataset dataSet = new DefaultXYDataset();
		dataSet.addSeries("Values", new double[][]{
				time,
				vals
		});
		
		chart = ChartFactory.createXYLineChart(
				"", // chart title
				"", // domain axis label
				"", // range axis label
				dataSet,  // initial series
				PlotOrientation.VERTICAL, // orientation
				true, // include legend
				true, // tooltips?
				false // URLs?
				);
		
		if (chartPanel != null)
			this.remove(chartPanel);
		((XYPlot)chart.getPlot()).getRangeAxis().setRange(0,0);;
		chartPanel = new ChartPanel(chart, false);
		chartPanel.setPreferredSize(prefSize);

		this.add(chartPanel);
		this.revalidate();
		//		this.repaint();
	}
	//private JFrame win;
	
	
	
	
	
	
	
	public static ChartPanel cp;
	
	public static ChartPanel getDisplay(double[] time, double[] vals){
		DefaultXYDataset dataSet = new DefaultXYDataset();
		dataSet.addSeries("Values", new double[][]{
				time,
				vals
		});
		
		JFreeChart chart = ChartFactory.createXYLineChart(
				"Serial Data", // chart title
				"Domain", // domain axis label
				"Range", // range axis label
				dataSet,  // initial series
				PlotOrientation.VERTICAL, // orientation
				true, // include legend
				true, // tooltips?
				false // URLs?
				);

		ChartPanel out = new ChartPanel(chart, false);
        out.setPreferredSize(new java.awt.Dimension(500, 270));
        
        return out;
	}
	
	


}
